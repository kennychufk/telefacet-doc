<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   viewBox="0 0 532 400"
   version="1.1"
   id="svg22"
   sodipodi:docname="data-flow.svg"
   width="532"
   height="400"
   inkscape:version="1.3.2 (091e20e, 2023-11-25)"
   inkscape:export-filename="data-flow.png"
   inkscape:export-xdpi="192"
   inkscape:export-ydpi="192"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <sodipodi:namedview
     id="namedview22"
     pagecolor="#ffffff"
     bordercolor="#000000"
     borderopacity="0.25"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1"
     inkscape:zoom="1.3149905"
     inkscape:cx="277.18831"
     inkscape:cy="183.27128"
     inkscape:window-width="1712"
     inkscape:window-height="951"
     inkscape:window-x="0"
     inkscape:window-y="39"
     inkscape:window-maximized="1"
     inkscape:current-layer="svg22" />
  <!-- Title -->
  <text
     x="265.577"
     y="27"
     text-anchor="middle"
     font-size="18px"
     font-weight="bold"
     fill="#333333"
     id="text1">Data Flow</text>
  <!-- Stage 1: Trigger -->
  <rect
     x="16"
     y="44"
     width="140"
     height="80"
     fill="#f3e5f5"
     stroke="#7b1fa2"
     stroke-width="2"
     rx="5"
     id="rect1" />
  <text
     x="86"
     y="69"
     text-anchor="middle"
     font-size="12px"
     font-weight="bold"
     fill="#7b1fa2"
     id="text2">1. TRIGGER</text>
  <text
     x="86"
     y="89"
     text-anchor="middle"
     font-size="10px"
     fill="#333333"
     id="text3">ESP32 generates</text>
  <text
     x="86"
     y="104"
     text-anchor="middle"
     font-size="10px"
     fill="#333333"
     id="text4">periodic pulses</text>
  <!-- Stage 2: Capture -->
  <g
     id="g23">
    <rect
       x="196"
       y="44"
       width="140"
       height="80"
       fill="#fce4ec"
       stroke="#c2185b"
       stroke-width="2"
       rx="5"
       id="rect4" />
    <text
       x="266"
       y="69"
       text-anchor="middle"
       font-size="12px"
       font-weight="bold"
       fill="#c2185b"
       id="text5">2. CAPTURE</text>
    <text
       x="266"
       y="89"
       text-anchor="middle"
       font-size="10px"
       fill="#333333"
       id="text6">All 32 cameras</text>
    <text
       x="266"
       y="104"
       text-anchor="middle"
       font-size="10px"
       fill="#333333"
       id="text7">capture frames</text>
  </g>
  <!-- Stage 3: Stream -->
  <!-- Arrows between stages -->
  <path
     d="m 156,84 h 40"
     stroke="#666666"
     stroke-width="2"
     fill="none"
     marker-end="url(#arrow)"
     id="path10" />
  <!-- Stage 4: Preview -->
  <rect
     x="106"
     y="184"
     width="140"
     height="80"
     fill="#e3f2fd"
     stroke="#1976d2"
     stroke-width="2"
     rx="5"
     id="rect11" />
  <text
     x="176"
     y="209"
     text-anchor="middle"
     font-size="12px"
     font-weight="bold"
     fill="#1976d2"
     id="text11">3a. PREVIEW</text>
  <text
     x="176"
     y="229"
     text-anchor="middle"
     font-size="10px"
     fill="#333333"
     id="text12">Real-time display</text>
  <text
     x="176"
     y="244"
     text-anchor="middle"
     font-size="10px"
     fill="#333333"
     id="text13">in web client</text>
  <!-- Stage 5: Save -->
  <rect
     x="286"
     y="184"
     width="140"
     height="80"
     fill="#fff3e0"
     stroke="#f57c00"
     stroke-width="2"
     rx="5"
     id="rect13" />
  <text
     x="356"
     y="209"
     text-anchor="middle"
     font-size="12px"
     font-weight="bold"
     fill="#f57c00"
     id="text14">3b. SAVE</text>
  <text
     x="356"
     y="229"
     text-anchor="middle"
     font-size="10px"
     fill="#333333"
     id="text15">Store raw files</text>
  <text
     x="356"
     y="244"
     text-anchor="middle"
     font-size="10px"
     fill="#333333"
     id="text16">to Raspberry Pi 5's SSD</text>
  <!-- Arrows to preview and save -->
  <path
     d="m 266,124 v 30 h -90 v 30"
     stroke="#666666"
     stroke-width="2"
     fill="none"
     marker-end="url(#arrow)"
     id="path16"
     sodipodi:nodetypes="cccc" />
  <path
     d="m 266,124 v 30 h 90 v 30"
     stroke="#666666"
     stroke-width="2"
     fill="none"
     marker-end="url(#arrow)"
     id="path17"
     sodipodi:nodetypes="cccc" />
  <!-- Stage 6: Post-process -->
  <g
     id="g22"
     transform="translate(-20)">
    <rect
       x="196"
       y="304"
       width="180"
       height="80"
       fill="#fff9c4"
       stroke="#f9a825"
       stroke-width="2"
       rx="5"
       id="rect17" />
    <text
       x="286"
       y="329"
       text-anchor="middle"
       font-size="12px"
       font-weight="bold"
       fill="#f9a825"
       id="text17">4. POST-PROCESS</text>
    <text
       x="286"
       y="349"
       text-anchor="middle"
       font-size="10px"
       fill="#333333"
       id="text18">Debayer raw files</text>
    <text
       x="286"
       y="364"
       text-anchor="middle"
       font-size="10px"
       fill="#333333"
       id="text19">Export PNG/JPEG</text>
  </g>
  <!-- Arrow to post-process -->
  <path
     d="m 336,264 v 20 h -70 v 20"
     stroke="#666666"
     stroke-width="2"
     fill="none"
     marker-end="url(#arrow)"
     id="path19"
     sodipodi:nodetypes="cccc" />
  <!-- Arrow marker -->
  <defs
     id="defs19">
    <marker
       id="arrow"
       markerWidth="10"
       markerHeight="10"
       refX="9"
       refY="3"
       orient="auto">
      <polygon
         points="0,0 10,3 0,6 "
         fill="#666666"
         id="polygon19" />
    </marker>
  </defs>
  <!-- Format annotations -->
  <text
     x="232"
     y="294"
     text-anchor="middle"
     font-size="9px"
     fill="#999999"
     font-style="italic"
     id="text21">SRGGB10P</text>
  <text
     x="236.39175"
     y="147.345"
     text-anchor="middle"
     font-size="9px"
     fill="#999999"
     font-style="italic"
     id="text21-0">SRGGB10P</text>
</svg>
